{"id":"ZDXI","dependencies":[{"name":"/Users/gokul/r/cityscope/IO/scanner/.babelrc","includedInParent":true,"mtime":1566133864000},{"name":"/Users/gokul/r/cityscope/IO/scanner/package.json","includedInParent":true,"mtime":1566217542247},{"name":"../Storage","loc":{"line":1,"column":7},"parent":"/Users/gokul/r/cityscope/IO/scanner/js/UI/KeyStoneUI.js","resolved":"/Users/gokul/r/cityscope/IO/scanner/js/Storage.js"},{"name":"../Modules","loc":{"line":7,"column":7},"parent":"/Users/gokul/r/cityscope/IO/scanner/js/UI/KeyStoneUI.js","resolved":"/Users/gokul/r/cityscope/IO/scanner/js/Modules.js"},{"name":"../CV/MatrixTransform","loc":{"line":8,"column":32},"parent":"/Users/gokul/r/cityscope/IO/scanner/js/UI/KeyStoneUI.js","resolved":"/Users/gokul/r/cityscope/IO/scanner/js/CV/MatrixTransform.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.keystoneMouse=o,exports.keystoneKeys=s,require(\"../Storage\");var e=require(\"../Modules\"),t=require(\"../CV/MatrixTransform\");function o(){var o=Storage.camCanvas;document.body.style.cursor=\"crosshair\",(0,e.updateInfoDIV)(\"Key-stone in this order: TOP-LEFT [⬉] TOP-RIGHT [⬈] BOTTOM-LEFT  [⬋]  BOTTOM-RIGHT [⬊]\");var r=window.svgKeystone,n=[];document.addEventListener(\"click\",function a(i){i.x<o.width&&i.y<o.height&&(n.push(i.x,i.y),(0,e.updateInfoDIV)(\"Mouse click \"+n.length/2+\" at \"+i.x+\", \"+i.y),r.appendChild((0,e.svgCircle)([i.x,i.y],\"none\",10,0,\"magenta\",\"1\")),8==n.length&&((0,e.saveSettings)(\"CityScopeJS_keystone\",n),(0,t.MatrixTransform)((0,e.loadSettings)(\"CityScopeJS_keystone\")),document.removeEventListener(\"click\",a),s(),document.body.style.cursor=\"auto\"))})}function s(){window.addEventListener(\"keydown\",function(r){!function(r,n){switch(r){case\"=\":s+=1,(0,e.updateInfoDIV)(\"edit speed \"+s.toString()+\" pixels at the time\");break;case\"-\":s>1&&(s-=1),(0,e.updateInfoDIV)(\"edit speed \"+s.toString()+\" pixels at the time\");break;case\"1\":case\"2\":case\"3\":case\"4\":o=2*(r-1);break;case\"ArrowLeft\":n[o]=n[o]-s,(0,e.saveSettings)(\"CityScopeJS_keystone\",n),(0,t.MatrixTransform)(n);break;case\"ArrowRight\":n[o]=n[o]+s,(0,e.saveSettings)(\"CityScopeJS_keystone\",n),(0,t.MatrixTransform)(n);break;case\"ArrowUp\":n[o+1]=n[o+1]-s,(0,e.saveSettings)(\"CityScopeJS_keystone\",n),(0,t.MatrixTransform)(n);break;case\"ArrowDown\":n[o+1]=n[o+1]+s,(0,e.saveSettings)(\"CityScopeJS_keystone\",n),(0,t.MatrixTransform)(n)}}(r.key,(0,e.loadSettings)(\"CityScopeJS_keystone\"))});var o=0,s=1}"},"sourceMaps":{"js":{"mappings":[{"source":"js/UI/KeyStoneUI.js","original":{"line":119,"column":1},"generated":{"line":1,"column":0}},{"source":"js/UI/KeyStoneUI.js","original":{"line":119,"column":1},"generated":{"line":1,"column":13}},{"source":"js/UI/KeyStoneUI.js","original":{"line":119,"column":1},"generated":{"line":1,"column":20}},{"source":"js/UI/KeyStoneUI.js","original":{"line":119,"column":1},"generated":{"line":1,"column":35}},{"source":"js/UI/KeyStoneUI.js","original":{"line":119,"column":1},"generated":{"line":1,"column":43}},{"source":"js/UI/KeyStoneUI.js","original":{"line":119,"column":1},"generated":{"line":1,"column":56}},{"source":"js/UI/KeyStoneUI.js","original":{"line":119,"column":1},"generated":{"line":1,"column":57}},{"source":"js/UI/KeyStoneUI.js","original":{"line":119,"column":1},"generated":{"line":1,"column":64}},{"source":"js/UI/KeyStoneUI.js","original":{"line":119,"column":1},"generated":{"line":1,"column":68}},{"source":"js/UI/KeyStoneUI.js","original":{"line":119,"column":1},"generated":{"line":1,"column":76}},{"source":"js/UI/KeyStoneUI.js","original":{"line":119,"column":1},"generated":{"line":1,"column":90}},{"source":"js/UI/KeyStoneUI.js","original":{"line":119,"column":1},"generated":{"line":1,"column":92}},{"source":"js/UI/KeyStoneUI.js","original":{"line":119,"column":1},"generated":{"line":1,"column":100}},{"source":"js/UI/KeyStoneUI.js","original":{"line":119,"column":1},"generated":{"line":1,"column":113}},{"source":"js/UI/KeyStoneUI.js","original":{"line":1,"column":0},"generated":{"line":1,"column":115}},{"source":"js/UI/KeyStoneUI.js","original":{"line":1,"column":0},"generated":{"line":1,"column":123}},{"source":"js/UI/KeyStoneUI.js","original":{"line":2,"column":0},"generated":{"line":1,"column":137}},{"source":"js/UI/KeyStoneUI.js","original":{"line":2,"column":0},"generated":{"line":1,"column":141}},{"source":"js/UI/KeyStoneUI.js","original":{"line":2,"column":0},"generated":{"line":1,"column":143}},{"source":"js/UI/KeyStoneUI.js","original":{"line":2,"column":0},"generated":{"line":1,"column":151}},{"source":"js/UI/KeyStoneUI.js","original":{"line":8,"column":0},"generated":{"line":1,"column":165}},{"source":"js/UI/KeyStoneUI.js","original":{"line":8,"column":0},"generated":{"line":1,"column":167}},{"source":"js/UI/KeyStoneUI.js","original":{"line":8,"column":0},"generated":{"line":1,"column":175}},{"source":"js/UI/KeyStoneUI.js","original":{"line":11,"column":7},"generated":{"line":1,"column":200}},{"source":"js/UI/KeyStoneUI.js","name":"keystoneMouse","original":{"line":11,"column":16},"generated":{"line":1,"column":209}},{"source":"js/UI/KeyStoneUI.js","name":"camCanvas","original":{"line":12,"column":6},"generated":{"line":1,"column":213}},{"source":"js/UI/KeyStoneUI.js","name":"camCanvas","original":{"line":12,"column":6},"generated":{"line":1,"column":217}},{"source":"js/UI/KeyStoneUI.js","name":"Storage","original":{"line":12,"column":18},"generated":{"line":1,"column":219}},{"source":"js/UI/KeyStoneUI.js","name":"camCanvas","original":{"line":12,"column":26},"generated":{"line":1,"column":227}},{"source":"js/UI/KeyStoneUI.js","name":"document","original":{"line":13,"column":2},"generated":{"line":1,"column":237}},{"source":"js/UI/KeyStoneUI.js","name":"body","original":{"line":13,"column":11},"generated":{"line":1,"column":246}},{"source":"js/UI/KeyStoneUI.js","name":"style","original":{"line":13,"column":16},"generated":{"line":1,"column":251}},{"source":"js/UI/KeyStoneUI.js","name":"cursor","original":{"line":13,"column":22},"generated":{"line":1,"column":257}},{"source":"js/UI/KeyStoneUI.js","original":{"line":13,"column":31},"generated":{"line":1,"column":264}},{"source":"js/UI/KeyStoneUI.js","original":{"line":15,"column":4},"generated":{"line":1,"column":277}},{"source":"js/UI/KeyStoneUI.js","original":{"line":15,"column":4},"generated":{"line":1,"column":279}},{"source":"js/UI/KeyStoneUI.js","original":{"line":15,"column":4},"generated":{"line":1,"column":281}},{"source":"js/UI/KeyStoneUI.js","original":{"line":15,"column":4},"generated":{"line":1,"column":296}},{"source":"js/UI/KeyStoneUI.js","name":"svgKeystone","original":{"line":18,"column":6},"generated":{"line":1,"column":386}},{"source":"js/UI/KeyStoneUI.js","name":"svgKeystone","original":{"line":18,"column":6},"generated":{"line":1,"column":390}},{"source":"js/UI/KeyStoneUI.js","name":"window","original":{"line":18,"column":20},"generated":{"line":1,"column":392}},{"source":"js/UI/KeyStoneUI.js","name":"svgKeystone","original":{"line":18,"column":27},"generated":{"line":1,"column":399}},{"source":"js/UI/KeyStoneUI.js","name":"clkArr","original":{"line":20,"column":6},"generated":{"line":1,"column":411}},{"source":"js/UI/KeyStoneUI.js","original":{"line":20,"column":15},"generated":{"line":1,"column":413}},{"source":"js/UI/KeyStoneUI.js","name":"document","original":{"line":23,"column":2},"generated":{"line":1,"column":416}},{"source":"js/UI/KeyStoneUI.js","name":"addEventListener","original":{"line":23,"column":11},"generated":{"line":1,"column":425}},{"source":"js/UI/KeyStoneUI.js","original":{"line":23,"column":28},"generated":{"line":1,"column":442}},{"source":"js/UI/KeyStoneUI.js","name":"mouseKeystone","original":{"line":26,"column":11},"generated":{"line":1,"column":450}},{"source":"js/UI/KeyStoneUI.js","name":"mouseKeystone","original":{"line":26,"column":11},"generated":{"line":1,"column":459}},{"source":"js/UI/KeyStoneUI.js","name":"e","original":{"line":26,"column":25},"generated":{"line":1,"column":461}},{"source":"js/UI/KeyStoneUI.js","name":"e","original":{"line":28,"column":8},"generated":{"line":1,"column":464}},{"source":"js/UI/KeyStoneUI.js","name":"x","original":{"line":28,"column":10},"generated":{"line":1,"column":466}},{"source":"js/UI/KeyStoneUI.js","name":"camCanvas","original":{"line":28,"column":14},"generated":{"line":1,"column":468}},{"source":"js/UI/KeyStoneUI.js","name":"width","original":{"line":28,"column":24},"generated":{"line":1,"column":470}},{"source":"js/UI/KeyStoneUI.js","name":"e","original":{"line":28,"column":33},"generated":{"line":1,"column":477}},{"source":"js/UI/KeyStoneUI.js","name":"y","original":{"line":28,"column":35},"generated":{"line":1,"column":479}},{"source":"js/UI/KeyStoneUI.js","name":"camCanvas","original":{"line":28,"column":39},"generated":{"line":1,"column":481}},{"source":"js/UI/KeyStoneUI.js","name":"height","original":{"line":28,"column":49},"generated":{"line":1,"column":483}},{"source":"js/UI/KeyStoneUI.js","name":"clkArr","original":{"line":30,"column":6},"generated":{"line":1,"column":492}},{"source":"js/UI/KeyStoneUI.js","name":"push","original":{"line":30,"column":13},"generated":{"line":1,"column":494}},{"source":"js/UI/KeyStoneUI.js","name":"e","original":{"line":30,"column":18},"generated":{"line":1,"column":499}},{"source":"js/UI/KeyStoneUI.js","name":"x","original":{"line":30,"column":20},"generated":{"line":1,"column":501}},{"source":"js/UI/KeyStoneUI.js","name":"e","original":{"line":30,"column":23},"generated":{"line":1,"column":503}},{"source":"js/UI/KeyStoneUI.js","name":"y","original":{"line":30,"column":25},"generated":{"line":1,"column":505}},{"source":"js/UI/KeyStoneUI.js","original":{"line":32,"column":8},"generated":{"line":1,"column":509}},{"source":"js/UI/KeyStoneUI.js","original":{"line":32,"column":8},"generated":{"line":1,"column":511}},{"source":"js/UI/KeyStoneUI.js","original":{"line":32,"column":8},"generated":{"line":1,"column":513}},{"source":"js/UI/KeyStoneUI.js","original":{"line":32,"column":8},"generated":{"line":1,"column":528}},{"source":"js/UI/KeyStoneUI.js","name":"clkArr","original":{"line":32,"column":25},"generated":{"line":1,"column":543}},{"source":"js/UI/KeyStoneUI.js","name":"length","original":{"line":32,"column":32},"generated":{"line":1,"column":545}},{"source":"js/UI/KeyStoneUI.js","original":{"line":32,"column":41},"generated":{"line":1,"column":552}},{"source":"js/UI/KeyStoneUI.js","original":{"line":32,"column":45},"generated":{"line":1,"column":554}},{"source":"js/UI/KeyStoneUI.js","name":"e","original":{"line":32,"column":54},"generated":{"line":1,"column":561}},{"source":"js/UI/KeyStoneUI.js","name":"x","original":{"line":32,"column":56},"generated":{"line":1,"column":563}},{"source":"js/UI/KeyStoneUI.js","original":{"line":32,"column":60},"generated":{"line":1,"column":565}},{"source":"js/UI/KeyStoneUI.js","name":"e","original":{"line":32,"column":67},"generated":{"line":1,"column":570}},{"source":"js/UI/KeyStoneUI.js","name":"y","original":{"line":32,"column":69},"generated":{"line":1,"column":572}},{"source":"js/UI/KeyStoneUI.js","name":"svgKeystone","original":{"line":35,"column":6},"generated":{"line":1,"column":575}},{"source":"js/UI/KeyStoneUI.js","name":"appendChild","original":{"line":35,"column":18},"generated":{"line":1,"column":577}},{"source":"js/UI/KeyStoneUI.js","original":{"line":36,"column":8},"generated":{"line":1,"column":590}},{"source":"js/UI/KeyStoneUI.js","original":{"line":36,"column":18},"generated":{"line":1,"column":592}},{"source":"js/UI/KeyStoneUI.js","original":{"line":36,"column":18},"generated":{"line":1,"column":594}},{"source":"js/UI/KeyStoneUI.js","original":{"line":36,"column":18},"generated":{"line":1,"column":605}},{"source":"js/UI/KeyStoneUI.js","name":"e","original":{"line":36,"column":19},"generated":{"line":1,"column":606}},{"source":"js/UI/KeyStoneUI.js","name":"x","original":{"line":36,"column":21},"generated":{"line":1,"column":608}},{"source":"js/UI/KeyStoneUI.js","name":"e","original":{"line":36,"column":24},"generated":{"line":1,"column":610}},{"source":"js/UI/KeyStoneUI.js","name":"y","original":{"line":36,"column":26},"generated":{"line":1,"column":612}},{"source":"js/UI/KeyStoneUI.js","original":{"line":36,"column":30},"generated":{"line":1,"column":615}},{"source":"js/UI/KeyStoneUI.js","original":{"line":36,"column":38},"generated":{"line":1,"column":622}},{"source":"js/UI/KeyStoneUI.js","original":{"line":36,"column":42},"generated":{"line":1,"column":625}},{"source":"js/UI/KeyStoneUI.js","original":{"line":36,"column":45},"generated":{"line":1,"column":627}},{"source":"js/UI/KeyStoneUI.js","original":{"line":36,"column":56},"generated":{"line":1,"column":637}},{"source":"js/UI/KeyStoneUI.js","original":{"line":40,"column":27},"generated":{"line":1,"column":643}},{"source":"js/UI/KeyStoneUI.js","name":"clkArr","original":{"line":40,"column":10},"generated":{"line":1,"column":646}},{"source":"js/UI/KeyStoneUI.js","name":"length","original":{"line":40,"column":17},"generated":{"line":1,"column":648}},{"source":"js/UI/KeyStoneUI.js","original":{"line":42,"column":21},"generated":{"line":1,"column":658}},{"source":"js/UI/KeyStoneUI.js","original":{"line":42,"column":21},"generated":{"line":1,"column":660}},{"source":"js/UI/KeyStoneUI.js","original":{"line":42,"column":21},"generated":{"line":1,"column":662}},{"source":"js/UI/KeyStoneUI.js","original":{"line":42,"column":21},"generated":{"line":1,"column":676}},{"source":"js/UI/KeyStoneUI.js","name":"clkArr","original":{"line":42,"column":45},"generated":{"line":1,"column":699}},{"source":"js/UI/KeyStoneUI.js","original":{"line":45,"column":24},"generated":{"line":1,"column":703}},{"source":"js/UI/KeyStoneUI.js","original":{"line":45,"column":24},"generated":{"line":1,"column":705}},{"source":"js/UI/KeyStoneUI.js","original":{"line":45,"column":24},"generated":{"line":1,"column":707}},{"source":"js/UI/KeyStoneUI.js","original":{"line":45,"column":24},"generated":{"line":1,"column":725}},{"source":"js/UI/KeyStoneUI.js","original":{"line":45,"column":37},"generated":{"line":1,"column":727}},{"source":"js/UI/KeyStoneUI.js","original":{"line":45,"column":37},"generated":{"line":1,"column":729}},{"source":"js/UI/KeyStoneUI.js","original":{"line":45,"column":37},"generated":{"line":1,"column":743}},{"source":"js/UI/KeyStoneUI.js","name":"document","original":{"line":47,"column":8},"generated":{"line":1,"column":768}},{"source":"js/UI/KeyStoneUI.js","name":"removeEventListener","original":{"line":47,"column":17},"generated":{"line":1,"column":777}},{"source":"js/UI/KeyStoneUI.js","original":{"line":47,"column":37},"generated":{"line":1,"column":797}},{"source":"js/UI/KeyStoneUI.js","name":"mouseKeystone","original":{"line":47,"column":46},"generated":{"line":1,"column":805}},{"source":"js/UI/KeyStoneUI.js","name":"keystoneKeys","original":{"line":48,"column":8},"generated":{"line":1,"column":808}},{"source":"js/UI/KeyStoneUI.js","name":"document","original":{"line":49,"column":8},"generated":{"line":1,"column":812}},{"source":"js/UI/KeyStoneUI.js","name":"body","original":{"line":49,"column":17},"generated":{"line":1,"column":821}},{"source":"js/UI/KeyStoneUI.js","name":"style","original":{"line":49,"column":22},"generated":{"line":1,"column":826}},{"source":"js/UI/KeyStoneUI.js","name":"cursor","original":{"line":49,"column":28},"generated":{"line":1,"column":832}},{"source":"js/UI/KeyStoneUI.js","original":{"line":49,"column":37},"generated":{"line":1,"column":839}},{"source":"js/UI/KeyStoneUI.js","original":{"line":56,"column":7},"generated":{"line":1,"column":850}},{"source":"js/UI/KeyStoneUI.js","name":"keystoneKeys","original":{"line":56,"column":16},"generated":{"line":1,"column":859}},{"source":"js/UI/KeyStoneUI.js","name":"window","original":{"line":57,"column":2},"generated":{"line":1,"column":863}},{"source":"js/UI/KeyStoneUI.js","name":"addEventListener","original":{"line":57,"column":9},"generated":{"line":1,"column":870}},{"source":"js/UI/KeyStoneUI.js","original":{"line":57,"column":26},"generated":{"line":1,"column":887}},{"source":"js/UI/KeyStoneUI.js","original":{"line":57,"column":37},"generated":{"line":1,"column":897}},{"source":"js/UI/KeyStoneUI.js","name":"event","original":{"line":57,"column":46},"generated":{"line":1,"column":906}},{"source":"js/UI/KeyStoneUI.js","name":"keystoneUsingKeys","original":{"line":68,"column":11},"generated":{"line":1,"column":910}},{"source":"js/UI/KeyStoneUI.js","name":"key","original":{"line":68,"column":29},"generated":{"line":1,"column":919}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":68,"column":34},"generated":{"line":1,"column":921}},{"source":"js/UI/KeyStoneUI.js","name":"key","original":{"line":69,"column":12},"generated":{"line":1,"column":924}},{"source":"js/UI/KeyStoneUI.js","name":"key","original":{"line":69,"column":12},"generated":{"line":1,"column":931}},{"source":"js/UI/KeyStoneUI.js","original":{"line":70,"column":11},"generated":{"line":1,"column":934}},{"source":"js/UI/KeyStoneUI.js","original":{"line":70,"column":11},"generated":{"line":1,"column":938}},{"source":"js/UI/KeyStoneUI.js","name":"velocity","original":{"line":71,"column":8},"generated":{"line":1,"column":942}},{"source":"js/UI/KeyStoneUI.js","original":{"line":71,"column":20},"generated":{"line":1,"column":945}},{"source":"js/UI/KeyStoneUI.js","original":{"line":73,"column":10},"generated":{"line":1,"column":948}},{"source":"js/UI/KeyStoneUI.js","original":{"line":73,"column":10},"generated":{"line":1,"column":950}},{"source":"js/UI/KeyStoneUI.js","original":{"line":73,"column":10},"generated":{"line":1,"column":952}},{"source":"js/UI/KeyStoneUI.js","original":{"line":73,"column":10},"generated":{"line":1,"column":967}},{"source":"js/UI/KeyStoneUI.js","name":"velocity","original":{"line":73,"column":26},"generated":{"line":1,"column":981}},{"source":"js/UI/KeyStoneUI.js","name":"toString","original":{"line":73,"column":35},"generated":{"line":1,"column":983}},{"source":"js/UI/KeyStoneUI.js","original":{"line":73,"column":48},"generated":{"line":1,"column":994}},{"source":"js/UI/KeyStoneUI.js","original":{"line":75,"column":8},"generated":{"line":1,"column":1017}},{"source":"js/UI/KeyStoneUI.js","original":{"line":77,"column":11},"generated":{"line":1,"column":1023}},{"source":"js/UI/KeyStoneUI.js","original":{"line":77,"column":11},"generated":{"line":1,"column":1027}},{"source":"js/UI/KeyStoneUI.js","name":"velocity","original":{"line":78,"column":12},"generated":{"line":1,"column":1031}},{"source":"js/UI/KeyStoneUI.js","original":{"line":78,"column":23},"generated":{"line":1,"column":1033}},{"source":"js/UI/KeyStoneUI.js","name":"velocity","original":{"line":78,"column":26},"generated":{"line":1,"column":1037}},{"source":"js/UI/KeyStoneUI.js","original":{"line":78,"column":38},"generated":{"line":1,"column":1040}},{"source":"js/UI/KeyStoneUI.js","original":{"line":80,"column":10},"generated":{"line":1,"column":1044}},{"source":"js/UI/KeyStoneUI.js","original":{"line":80,"column":10},"generated":{"line":1,"column":1046}},{"source":"js/UI/KeyStoneUI.js","original":{"line":80,"column":10},"generated":{"line":1,"column":1048}},{"source":"js/UI/KeyStoneUI.js","original":{"line":80,"column":10},"generated":{"line":1,"column":1063}},{"source":"js/UI/KeyStoneUI.js","name":"velocity","original":{"line":80,"column":26},"generated":{"line":1,"column":1077}},{"source":"js/UI/KeyStoneUI.js","name":"toString","original":{"line":80,"column":35},"generated":{"line":1,"column":1079}},{"source":"js/UI/KeyStoneUI.js","original":{"line":80,"column":48},"generated":{"line":1,"column":1090}},{"source":"js/UI/KeyStoneUI.js","original":{"line":82,"column":8},"generated":{"line":1,"column":1113}},{"source":"js/UI/KeyStoneUI.js","original":{"line":84,"column":11},"generated":{"line":1,"column":1119}},{"source":"js/UI/KeyStoneUI.js","original":{"line":84,"column":11},"generated":{"line":1,"column":1123}},{"source":"js/UI/KeyStoneUI.js","original":{"line":85,"column":11},"generated":{"line":1,"column":1127}},{"source":"js/UI/KeyStoneUI.js","original":{"line":85,"column":11},"generated":{"line":1,"column":1131}},{"source":"js/UI/KeyStoneUI.js","original":{"line":86,"column":11},"generated":{"line":1,"column":1135}},{"source":"js/UI/KeyStoneUI.js","original":{"line":86,"column":11},"generated":{"line":1,"column":1139}},{"source":"js/UI/KeyStoneUI.js","original":{"line":87,"column":11},"generated":{"line":1,"column":1143}},{"source":"js/UI/KeyStoneUI.js","original":{"line":87,"column":11},"generated":{"line":1,"column":1147}},{"source":"js/UI/KeyStoneUI.js","name":"kyStArrPos","original":{"line":89,"column":8},"generated":{"line":1,"column":1151}},{"source":"js/UI/KeyStoneUI.js","original":{"line":89,"column":33},"generated":{"line":1,"column":1153}},{"source":"js/UI/KeyStoneUI.js","name":"key","original":{"line":89,"column":22},"generated":{"line":1,"column":1156}},{"source":"js/UI/KeyStoneUI.js","original":{"line":89,"column":28},"generated":{"line":1,"column":1158}},{"source":"js/UI/KeyStoneUI.js","original":{"line":90,"column":8},"generated":{"line":1,"column":1161}},{"source":"js/UI/KeyStoneUI.js","original":{"line":92,"column":11},"generated":{"line":1,"column":1167}},{"source":"js/UI/KeyStoneUI.js","original":{"line":92,"column":11},"generated":{"line":1,"column":1171}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":93,"column":8},"generated":{"line":1,"column":1183}},{"source":"js/UI/KeyStoneUI.js","name":"kyStArrPos","original":{"line":93,"column":17},"generated":{"line":1,"column":1185}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":93,"column":31},"generated":{"line":1,"column":1188}},{"source":"js/UI/KeyStoneUI.js","name":"kyStArrPos","original":{"line":93,"column":40},"generated":{"line":1,"column":1190}},{"source":"js/UI/KeyStoneUI.js","name":"velocity","original":{"line":93,"column":54},"generated":{"line":1,"column":1193}},{"source":"js/UI/KeyStoneUI.js","original":{"line":94,"column":21},"generated":{"line":1,"column":1196}},{"source":"js/UI/KeyStoneUI.js","original":{"line":94,"column":21},"generated":{"line":1,"column":1198}},{"source":"js/UI/KeyStoneUI.js","original":{"line":94,"column":21},"generated":{"line":1,"column":1200}},{"source":"js/UI/KeyStoneUI.js","original":{"line":94,"column":21},"generated":{"line":1,"column":1214}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":94,"column":45},"generated":{"line":1,"column":1237}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":95,"column":24},"generated":{"line":1,"column":1241}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":95,"column":24},"generated":{"line":1,"column":1243}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":95,"column":24},"generated":{"line":1,"column":1245}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":95,"column":24},"generated":{"line":1,"column":1262}},{"source":"js/UI/KeyStoneUI.js","original":{"line":96,"column":8},"generated":{"line":1,"column":1265}},{"source":"js/UI/KeyStoneUI.js","original":{"line":98,"column":11},"generated":{"line":1,"column":1271}},{"source":"js/UI/KeyStoneUI.js","original":{"line":98,"column":11},"generated":{"line":1,"column":1275}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":99,"column":8},"generated":{"line":1,"column":1288}},{"source":"js/UI/KeyStoneUI.js","name":"kyStArrPos","original":{"line":99,"column":17},"generated":{"line":1,"column":1290}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":99,"column":31},"generated":{"line":1,"column":1293}},{"source":"js/UI/KeyStoneUI.js","name":"kyStArrPos","original":{"line":99,"column":40},"generated":{"line":1,"column":1295}},{"source":"js/UI/KeyStoneUI.js","name":"velocity","original":{"line":99,"column":54},"generated":{"line":1,"column":1298}},{"source":"js/UI/KeyStoneUI.js","original":{"line":100,"column":21},"generated":{"line":1,"column":1301}},{"source":"js/UI/KeyStoneUI.js","original":{"line":100,"column":21},"generated":{"line":1,"column":1303}},{"source":"js/UI/KeyStoneUI.js","original":{"line":100,"column":21},"generated":{"line":1,"column":1305}},{"source":"js/UI/KeyStoneUI.js","original":{"line":100,"column":21},"generated":{"line":1,"column":1319}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":100,"column":45},"generated":{"line":1,"column":1342}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":101,"column":24},"generated":{"line":1,"column":1346}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":101,"column":24},"generated":{"line":1,"column":1348}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":101,"column":24},"generated":{"line":1,"column":1350}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":101,"column":24},"generated":{"line":1,"column":1367}},{"source":"js/UI/KeyStoneUI.js","original":{"line":102,"column":8},"generated":{"line":1,"column":1370}},{"source":"js/UI/KeyStoneUI.js","original":{"line":104,"column":11},"generated":{"line":1,"column":1376}},{"source":"js/UI/KeyStoneUI.js","original":{"line":104,"column":11},"generated":{"line":1,"column":1380}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":105,"column":8},"generated":{"line":1,"column":1390}},{"source":"js/UI/KeyStoneUI.js","name":"kyStArrPos","original":{"line":105,"column":17},"generated":{"line":1,"column":1392}},{"source":"js/UI/KeyStoneUI.js","original":{"line":105,"column":30},"generated":{"line":1,"column":1394}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":105,"column":35},"generated":{"line":1,"column":1397}},{"source":"js/UI/KeyStoneUI.js","name":"kyStArrPos","original":{"line":105,"column":44},"generated":{"line":1,"column":1399}},{"source":"js/UI/KeyStoneUI.js","original":{"line":105,"column":57},"generated":{"line":1,"column":1401}},{"source":"js/UI/KeyStoneUI.js","name":"velocity","original":{"line":105,"column":62},"generated":{"line":1,"column":1404}},{"source":"js/UI/KeyStoneUI.js","original":{"line":106,"column":21},"generated":{"line":1,"column":1407}},{"source":"js/UI/KeyStoneUI.js","original":{"line":106,"column":21},"generated":{"line":1,"column":1409}},{"source":"js/UI/KeyStoneUI.js","original":{"line":106,"column":21},"generated":{"line":1,"column":1411}},{"source":"js/UI/KeyStoneUI.js","original":{"line":106,"column":21},"generated":{"line":1,"column":1425}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":106,"column":45},"generated":{"line":1,"column":1448}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":107,"column":24},"generated":{"line":1,"column":1452}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":107,"column":24},"generated":{"line":1,"column":1454}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":107,"column":24},"generated":{"line":1,"column":1456}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":107,"column":24},"generated":{"line":1,"column":1473}},{"source":"js/UI/KeyStoneUI.js","original":{"line":109,"column":8},"generated":{"line":1,"column":1476}},{"source":"js/UI/KeyStoneUI.js","original":{"line":111,"column":11},"generated":{"line":1,"column":1482}},{"source":"js/UI/KeyStoneUI.js","original":{"line":111,"column":11},"generated":{"line":1,"column":1486}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":113,"column":8},"generated":{"line":1,"column":1498}},{"source":"js/UI/KeyStoneUI.js","name":"kyStArrPos","original":{"line":113,"column":17},"generated":{"line":1,"column":1500}},{"source":"js/UI/KeyStoneUI.js","original":{"line":113,"column":30},"generated":{"line":1,"column":1502}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":113,"column":35},"generated":{"line":1,"column":1505}},{"source":"js/UI/KeyStoneUI.js","name":"kyStArrPos","original":{"line":113,"column":44},"generated":{"line":1,"column":1507}},{"source":"js/UI/KeyStoneUI.js","original":{"line":113,"column":57},"generated":{"line":1,"column":1509}},{"source":"js/UI/KeyStoneUI.js","name":"velocity","original":{"line":113,"column":62},"generated":{"line":1,"column":1512}},{"source":"js/UI/KeyStoneUI.js","original":{"line":114,"column":21},"generated":{"line":1,"column":1515}},{"source":"js/UI/KeyStoneUI.js","original":{"line":114,"column":21},"generated":{"line":1,"column":1517}},{"source":"js/UI/KeyStoneUI.js","original":{"line":114,"column":21},"generated":{"line":1,"column":1519}},{"source":"js/UI/KeyStoneUI.js","original":{"line":114,"column":21},"generated":{"line":1,"column":1533}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":114,"column":45},"generated":{"line":1,"column":1556}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":115,"column":24},"generated":{"line":1,"column":1560}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":115,"column":24},"generated":{"line":1,"column":1562}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":115,"column":24},"generated":{"line":1,"column":1564}},{"source":"js/UI/KeyStoneUI.js","name":"keystone","original":{"line":115,"column":24},"generated":{"line":1,"column":1581}},{"source":"js/UI/KeyStoneUI.js","name":"keystoneUsingKeys","original":{"line":60,"column":4},"generated":{"line":1,"column":1585}},{"source":"js/UI/KeyStoneUI.js","name":"event","original":{"line":58,"column":16},"generated":{"line":1,"column":1586}},{"source":"js/UI/KeyStoneUI.js","name":"key","original":{"line":58,"column":22},"generated":{"line":1,"column":1588}},{"source":"js/UI/KeyStoneUI.js","original":{"line":59,"column":19},"generated":{"line":1,"column":1593}},{"source":"js/UI/KeyStoneUI.js","original":{"line":59,"column":32},"generated":{"line":1,"column":1595}},{"source":"js/UI/KeyStoneUI.js","original":{"line":59,"column":32},"generated":{"line":1,"column":1597}},{"source":"js/UI/KeyStoneUI.js","original":{"line":59,"column":32},"generated":{"line":1,"column":1611}},{"source":"js/UI/KeyStoneUI.js","name":"kyStArrPos","original":{"line":63,"column":6},"generated":{"line":1,"column":1638}},{"source":"js/UI/KeyStoneUI.js","name":"kyStArrPos","original":{"line":63,"column":6},"generated":{"line":1,"column":1642}},{"source":"js/UI/KeyStoneUI.js","original":{"line":63,"column":19},"generated":{"line":1,"column":1644}},{"source":"js/UI/KeyStoneUI.js","name":"velocity","original":{"line":65,"column":6},"generated":{"line":1,"column":1646}},{"source":"js/UI/KeyStoneUI.js","original":{"line":65,"column":17},"generated":{"line":1,"column":1648}}],"sources":{"js/UI/KeyStoneUI.js":"import \"../Storage\";\nimport {\n  saveSettings,\n  loadSettings,\n  svgCircle,\n  updateInfoDIV\n} from \"../Modules\";\nimport { MatrixTransform } from \"../CV/MatrixTransform\";\n\n//initial keystone using mouse\nexport function keystoneMouse() {\n  var camCanvas = Storage.camCanvas;\n  document.body.style.cursor = \"crosshair\";\n  updateInfoDIV(\n    \"Key-stone in this order: TOP-LEFT [⬉] TOP-RIGHT [⬈] BOTTOM-LEFT  [⬋]  BOTTOM-RIGHT [⬊]\"\n  );\n  //\n  var svgKeystone = window.svgKeystone;\n  //clear clicks array\n  let clkArr = [];\n\n  //collect 4 mouse clicks as corners of keystone\n  document.addEventListener(\"click\", mouseKeystone);\n\n  // react to mouse events\n  function mouseKeystone(e) {\n    // only collect clicks that are in the canvas area\n    if (e.x < camCanvas.width && e.y < camCanvas.height) {\n      //pop. array of clicks\n      clkArr.push(e.x, e.y);\n      updateInfoDIV(\n        \"Mouse click \" + clkArr.length / 2 + \" at \" + e.x + \", \" + e.y\n      );\n      //show points with svg\n      svgKeystone.appendChild(\n        svgCircle([e.x, e.y], \"none\", 10, 0, \"magenta\", \"1\")\n      );\n\n      // when 2x4 clicks were added\n      if (clkArr.length == 8) {\n        //save these settings for next load\n        saveSettings(\"CityScopeJS_keystone\", clkArr);\n\n        //call the matrix transform function\n        MatrixTransform(loadSettings(\"CityScopeJS_keystone\"));\n        // and stop keystone mouse clicks\n        document.removeEventListener(\"click\", mouseKeystone);\n        keystoneKeys();\n        document.body.style.cursor = \"auto\";\n      }\n    }\n  }\n}\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\nexport function keystoneKeys() {\n  window.addEventListener(\"keydown\", function(event) {\n    const key = event.key;\n    var keystone = loadSettings(\"CityScopeJS_keystone\");\n    keystoneUsingKeys(key, keystone);\n  });\n\n  let kyStArrPos = 0;\n  //set the edit speed\n  let velocity = 1;\n\n  // \"ArrowRight\", \"ArrowLeft\", \"ArrowUp\", or \"ArrowDown\"\n  function keystoneUsingKeys(key, keystone) {\n    switch (key) {\n      case \"=\":\n        velocity += 1;\n        updateInfoDIV(\n          \"edit speed \" + velocity.toString() + \" pixels at the time\"\n        );\n        break;\n\n      case \"-\":\n        if (velocity > 1) velocity -= 1;\n        updateInfoDIV(\n          \"edit speed \" + velocity.toString() + \" pixels at the time\"\n        );\n        break;\n\n      case \"1\":\n      case \"2\":\n      case \"3\":\n      case \"4\":\n        //gets the x pos of each pair of pnts\n        kyStArrPos = (key - 1) * 2;\n        break;\n\n      case \"ArrowLeft\":\n        keystone[kyStArrPos] = keystone[kyStArrPos] - velocity;\n        saveSettings(\"CityScopeJS_keystone\", keystone);\n        MatrixTransform(keystone);\n        break;\n\n      case \"ArrowRight\":\n        keystone[kyStArrPos] = keystone[kyStArrPos] + velocity;\n        saveSettings(\"CityScopeJS_keystone\", keystone);\n        MatrixTransform(keystone);\n        break;\n\n      case \"ArrowUp\":\n        keystone[kyStArrPos + 1] = keystone[kyStArrPos + 1] - velocity;\n        saveSettings(\"CityScopeJS_keystone\", keystone);\n        MatrixTransform(keystone);\n        // Up pressed\n        break;\n\n      case \"ArrowDown\":\n        // Down pressed\n        keystone[kyStArrPos + 1] = keystone[kyStArrPos + 1] + velocity;\n        saveSettings(\"CityScopeJS_keystone\", keystone);\n        MatrixTransform(keystone);\n        break;\n    }\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"397d16819f9e4f17a78dffda7e304f8e","cacheData":{"env":{}}}